新卒でVimを覚えて、VSCodeVim入りのVSCodeに一時期浮気して、NeoVimに引っ越し＋cocnvimを覚えてからはNeoVimにどっぷり。
いよいよ3年ぐらい経とうとしているので、まだ実践できていなものを列挙してみる。

完全に自分用だけど、もしかしたら思考がシンクロしがちな人がいたら刺さる部分があるかも。

---

単なる単語消去の際は `daw` がよい。
ドットコマンドとの相性も良い。

挿入ノーマルモード:
挿入モード時に `<C-o>` をタイプするとノーマルモードに遷移するが、そこで何かノーマルコマンドを打つとすぐに挿入モードに戻る。
`<C-o>zz` とすると、挿入モードのまま画面を中央に戻すことができる。
もしかしたら、他の応用を `imap` すると便利かもしれない。

挿入モードから抜けないでレジスタから貼り付け:
挿入モード時に `<C-r>` からレジスタを指定すると、そのレジスタに登録されているものがバッファに入力される。
`<C-r><C-p>` としてからレジスタを指定すると、意図しないインデントなどを防いで、そのままが正しく入力される。
`0` は直前のyankした内容を保存しているらしく、 `<C-r>0` で挿入モードのままヤンクしたテキストを貼り付けることができる。

Expressionレジスタ:
`=` はExpressionレジスタで、 `<C-r>=` とすると挿入モードからプロンプトが出せる。
この間は「コマンドラインモード」に分類されるらしい。
Enterで入力を確定させると、バッファに結果が挿入される。

文字コードを使って特殊文字を入力:
挿入モードで `<C-v>` とし、その後に文字コードを指定する。
みんな文字コードって覚えてるの。。？

ダイグラフによって特殊文字を挿入:
挿入モードでは `<C-k>{char1}{char2}` とする。
ダイグラフのほうが直感的なため、覚えておくといいかも。

置換モード:
ノーマルモードで `R` とタイプすると、置換モードに遷移する。
そもそもこのモードは認識したことがなかったので、見慣れない色にステータスバーが変化するな、と思った。
そのままタイプすると、カーソル位置の単語が入力内容で置換され続ける。
使いそうだけど、あんま使わないか。。

ビジュアルモードの再選択:
ノーマルモードで `<gv>` とすると、直前に選択した範囲を再選択した状態でビジュアルモードに入れる。
覚えておくと、地味に効率化できるかも。

ビジュアルモードの始点・終点をトグルする:
ビジュアルモードで `o` とタイプすると、始点と終点が入れ替わるので、微調整に便利。
通常・行指向・ブロック指向いずれでも直感的な挙動となる。

`gu` と `gU`:
それぞれ小文字化と大文字化。
ドットコマンドを便利に使うためには覚えておきたい。

Vimのコマンドラインモード（Exコマンド）:
何がコマンドラインモード化を理解しておきたい。
コロンを打ったとき、スラッシュで検索するとき、Expressionレジスタにアクセスするときは、すべてコマンドラインモードとなる。

Exコマンドを、アドレスで行範囲を指定する:
`:{start},{end}` で指定できる。
基本は行番号を指定することになるが、いくつか特殊なものがある。

- `:/<html>/+1,/<\/html>/-1`: 合致するタグに挟まれる部分を指定する、オフセットの構文を利用している
- `%`: ファイル全体を示すが、これは `:1,$` と等価であることを意識したい

copyコマンド:
`:6copy.` とすると、「6行目を現在行にコピー」となる
ビジュアルモードで範囲指定してから `:$` とタイプすると、選択範囲が末尾に貼られる。
覚えておくと、案外普段から使えるかもしれない。
`:t` でも等価らしいので、手打ちするときはこちらのほうが早い。
また、レジスタを介さないので、クリーンでもある。

moveコマンド:
`:move` もしくは `:m` でよい。
範囲や移動先の指定方法はcopyと同じ。

Exコマンドの繰り返し:
`@:` で前回のExコマンドを繰り返せる。
単体では覚えにくいので、何らかと関連付けて覚えたい。

